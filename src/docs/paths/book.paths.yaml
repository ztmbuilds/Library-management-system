books:
  post:
    summary: Create book
    tags:
      - Books
    security:
      - bearerAuth: []
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              title:
                type: string
              author:
                type: string
              genre:
                type: string
              description:
                type: string
              totalCopies:
                type: string
              availableCopies:
                type: string
            required:
              - title
              - author
              - genre
              - totalCopies
              - availableCopies
    responses:
      200:
        description: success

  get:
    summary: Get all books
    tags:
      - Books
    parameters:
      - name: sort
        in: query
        description: Sort results by one or more fields. Use `-` for descending order.
        schema:
          type: string

      - name: fields
        in: query
        description: Specify the fields to include or exclude. Use `-` to exclude fields.
        schema:
          type: string

      - name: page
        in: query
        description: The page number of the results to retrieve.
        schema:
          type: integer
          default: 1
        example: 2

      - name: limit
        in: query
        description: Limit the number of results returned per page.
        schema:
          type: integer
          default: 10
        example: 10

    responses:
      200:
        description: success

books{id}:
  get:
    summary: Get book by ID
    tags:
      - Books
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: Book ID
        schema:
          type: string
    responses:
      200:
        description: success

  patch:
    summary: Edit book
    tags:
      - Books
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: Book ID
        schema:
          type: string

    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              title:
                type: string
              author:
                type: string
              genre:
                type: string
              description:
                type: string
              totalCopies:
                type: string
              availableCopies:
                type: string

    responses:
      200:
        description: success

  delete:
    summary: Delete book
    tags:
      - Books
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: Book ID
        schema:
          type: string
    responses:
      200:
        description: success

books{id}borrow:
  post:
    summary: Borrow book
    tags:
      - Books
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: Book ID
        schema:
          type: string
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              returnDate:
                type: string
                format: date
            required:
              - returnDate

    responses:
      200:
        description: success

books{id}borrowing-history:
  get:
    summary: Get borrowing history of a book
    tags:
      - Books

    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: Book ID
        schema:
          type: string
      - name: sort
        in: query
        description: Sort results by one or more fields. Use `-` for descending order.
        schema:
          type: string

      - name: fields
        in: query
        description: Specify the fields to include or exclude. Use `-` to exclude fields.
        schema:
          type: string

      - name: page
        in: query
        description: The page number of the results to retrieve.
        schema:
          type: integer
          default: 1
        example: 2

      - name: limit
        in: query
        description: Limit the number of results returned per page.
        schema:
          type: integer
          default: 10
        example: 10

    responses:
      200:
        description: success

books{id}reservations:
  post:
    summary: Reserve book
    tags:
      - Books
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: Book ID
        schema:
          type: string

    responses:
      200:
        description: success
