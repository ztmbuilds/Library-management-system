users-profile:
  get:
    summary: Get user profile
    tags:
      - Users
    security:
      - bearerAuth: []
    responses:
      200:
        description: success
        content:
          application/json:
            schema:
              $ref: '../schemas.yaml#/User'
      404:
        description: User not found

  patch:
    summary: Edit user profile
    tags:
      - Users
    security:
      - bearerAuth: []
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              username:
                type: string
              email:
                type: string
              password:
                type: string

    responses:
      200:
        description: success
        content:
          application/json:
            schema:
              $ref: '../schemas.yaml#/User'
      404:
        description: User not found

users-borrowing-history:
  get:
    summary: Get user borrowing history
    tags:
      - Users
    parameters:
      - name: sort
        in: query
        description: Sort results by one or more fields. Use `-` for descending order.
        schema:
          type: string
        example: -borrowDate,-returnDate

      - name: fields
        in: query
        description: Specify the fields to include or exclude. Use `-` to exclude fields.
        schema:
          type: string
        example: -renewed,-returned

      - name: page
        in: query
        description: The page number of the results to retrieve.
        schema:
          type: integer
          default: 1
        example: 2

      - name: limit
        in: query
        description: Limit the number of results returned per page.
        schema:
          type: integer
          default: 10
        example: 10

    security:
      - bearerAuth: []
    responses:
      200:
        description: success
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '../schemas.yaml#/Borrowing'

users-reservations:
  get:
    summary: Get user reservations
    tags:
      - Users
    parameters:
      - name: sort
        in: query
        description: Sort results by one or more fields. Use `-` for descending order.
        schema:
          type: string

      - name: fields
        in: query
        description: Specify the fields to include or exclude. Use `-` to exclude fields.
        schema:
          type: string

      - name: page
        in: query
        description: The page number of the results to retrieve.
        schema:
          type: integer
          default: 1
        example: 2

      - name: limit
        in: query
        description: Limit the number of results returned per page.
        schema:
          type: integer
          default: 10
        example: 10

    security:
      - bearerAuth: []
    responses:
      200:
        description: success
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '../schemas.yaml#/Reservation'

users-fines:
  get:
    summary: Get user fines
    tags:
      - Users
    parameters:
      - name: sort
        in: query
        description: Sort results by one or more fields. Use `-` for descending order.
        schema:
          type: string

      - name: fields
        in: query
        description: Specify the fields to include or exclude. Use `-` to exclude fields.
        schema:
          type: string

      - name: page
        in: query
        description: The page number of the results to retrieve.
        schema:
          type: integer
          default: 1
        example: 2

      - name: limit
        in: query
        description: Limit the number of results returned per page.
        schema:
          type: integer
          default: 10
        example: 10

    security:
      - bearerAuth: []
    responses:
      200:
        description: success
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '../schemas.yaml#/Fine'
